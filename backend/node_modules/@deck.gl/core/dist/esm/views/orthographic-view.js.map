{"version":3,"sources":["../../../src/views/orthographic-view.js"],"names":["View","Viewport","Matrix4","OrthographicController","OrthographicView","x","y","width","height","viewState","eye","lookAt","up","offset","zoom","props","left","top","right","bottom","near","far","id","viewMatrix","projectionMatrix","ortho","_getControllerProps","type","displayName"],"mappings":"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","sourcesContent":["import View from './view';\nimport Viewport from '../viewports/viewport';\n\nimport {Matrix4} from 'math.gl';\nimport OrthographicController from '../controllers/orthographic-controller';\n\nexport default class OrthographicView extends View {\n  get controller() {\n    return this._getControllerProps({\n      type: OrthographicController\n    });\n  }\n\n  _getViewport({x, y, width, height, viewState}) {\n    // Get view matrix parameters from view state\n    const {\n      // view matrix arguments\n      eye = [0, 0, 1], // Defines eye position\n      lookAt = [0, 0, 0], // Which point is camera looking at, default origin\n      up = [0, 1, 0], // Defines up direction, default positive y axis,\n      offset = [0, 1],\n      zoom = 1\n    } = viewState;\n\n    // Make sure Matrix4.ortho doesn't crash on 0 width/height\n    width = width || 1;\n    height = height || 1;\n\n    // Get projection matrix parameters from the view itself\n    // NOTE: automatically calculated from width and height if not provided\n    const {\n      // projection matrix arguments\n      left = (-width / 2 + offset[0]) * zoom, // Left bound of the frustum\n      top = (-height / 2 + offset[1]) * zoom, // Top bound of the frustum\n      right = (width / 2 + offset[0]) * zoom, // Right bound of the frustum\n      bottom = (height / 2 + offset[1]) * zoom, // Bottom bound of the frustum\n\n      near = 1, // Distance of near clipping plane\n      far = 100 // Distance of far clipping plane\n    } = this.props;\n\n    return new Viewport({\n      id: this.id,\n      x,\n      y,\n      width,\n      height,\n      viewMatrix: new Matrix4().lookAt({eye, lookAt, up}),\n      projectionMatrix: new Matrix4().ortho({left, right, bottom, top, near, far})\n    });\n  }\n}\n\nOrthographicView.displayName = 'OrthographicView';\n"],"file":"orthographic-view.js"}