{"version":3,"sources":["../../../src/models/clip-space.js"],"names":["CLIPSPACE_VERTEX_SHADER","POSITIONS","ClipSpace","gl","opts","TEX_COORDS","map","coord","Object","assign","vs","geometry","Geometry","drawMode","vertexCount","attributes","aClipSpacePosition","size","value","Float32Array","aTexCoord","aCoordinate","setVertexCount","Model"],"mappings":";;;;;;;AAEA;;AACA;;;;;;;;;;;;;;;;AAEA,IAAMA,uBAAuB,oUAA7B;AAkBA,IAAMC,SAAS,GAAG,CAChB,CAAC,CADe,EACZ,CAAC,CADW,EAEf,CAFe,EAEZ,CAAC,CAFW,EAGhB,CAAC,CAHe,EAGX,CAHW,EAIf,CAJe,EAIX,CAJW,CAAlB;;IAOqBC,S;;;AACnB,qBAAYC,EAAZ,EAAgBC,IAAhB,EAAsB;AAAA;;AAAA;;AACpB,QAAMC,UAAU,GAAGJ,SAAS,CAACK,GAAV,CAAc,UAAAC,KAAK;AAAA,aAAIA,KAAK,KAAK,CAAC,CAAX,GAAe,CAAf,GAAmBA,KAAvB;AAAA,KAAnB,CAAnB;AAEA,mFAAMJ,EAAN,EAAUK,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,IAAlB,EAAwB;AAChCM,MAAAA,EAAE,EAAEV,uBAD4B;AAEhCW,MAAAA,QAAQ,EAAE,IAAIC,kBAAJ,CAAa;AACrBC,QAAAA,QAAQ,GADa;AAErBC,QAAAA,WAAW,EAAE,CAFQ;AAGrBC,QAAAA,UAAU,EAAE;AACVC,UAAAA,kBAAkB,EAAE;AAACC,YAAAA,IAAI,EAAE,CAAP;AAAUC,YAAAA,KAAK,EAAE,IAAIC,YAAJ,CAAiBlB,SAAjB;AAAjB,WADV;AAEVmB,UAAAA,SAAS,EAAE;AAACH,YAAAA,IAAI,EAAE,CAAP;AAAUC,YAAAA,KAAK,EAAE,IAAIC,YAAJ,CAAiBd,UAAjB;AAAjB,WAFD;AAGVgB,UAAAA,WAAW,EAAE;AAACJ,YAAAA,IAAI,EAAE,CAAP;AAAUC,YAAAA,KAAK,EAAE,IAAIC,YAAJ,CAAiBd,UAAjB;AAAjB;AAHH;AAHS,OAAb;AAFsB,KAAxB,CAAV;;AAYA,UAAKiB,cAAL,CAAoB,CAApB;;AAfoB;AAgBrB;;;EAjBoCC,W","sourcesContent":["// ClipSpace\nimport GL from '../constants';\nimport {Model} from '../core';\nimport {Geometry} from '../geometry';\n\nconst CLIPSPACE_VERTEX_SHADER = `\\\nattribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n`;\n\n/* eslint-disable indent, no-multi-spaces */\nconst POSITIONS = [\n  -1, -1,\n   1, -1,\n  -1,  1,\n   1,  1\n];\n\nexport default class ClipSpace extends Model {\n  constructor(gl, opts) {\n    const TEX_COORDS = POSITIONS.map(coord => coord === -1 ? 0 : coord);\n\n    super(gl, Object.assign({}, opts, {\n      vs: CLIPSPACE_VERTEX_SHADER,\n      geometry: new Geometry({\n        drawMode: GL.TRIANGLE_STRIP,\n        vertexCount: 4,\n        attributes: {\n          aClipSpacePosition: {size: 2, value: new Float32Array(POSITIONS)},\n          aTexCoord: {size: 2, value: new Float32Array(TEX_COORDS)},\n          aCoordinate: {size: 2, value: new Float32Array(TEX_COORDS)}\n        }\n      })\n    }));\n    this.setVertexCount(4);\n  }\n}\n"],"file":"clip-space.js"}