{"version":3,"sources":["../../../../../../../src/shadertools/src/modules/fp64/test-deprecated/fp64-shader.spec.js"],"names":["BUFFER_DATA","Float32Array","glEnumToString","gl","value","p","toString","addSpan","contents","div","undefined","divs","document","body","getElementsByClassName","lastDiv","length","span","createElement","appendChild","innerHTML","addDiv","testInfoDiv","setAttribute","logToConsole","msg","window","console","log","escapeHTML","text","replace","testPassed","testFailed","glErrorShouldBe","glErrors","opt_msg","err","getError","ndx","indexOf","errStrs","ii","push","expected","join","fp64ify","a","a_hi","Math","fround","a_lo","getFloat64","upper","random","pow","getVec4Float64","getMat4Float64","result","i","initializeGL","canvas","viewport","width","height","clearColor","clearDepth","clear","initializeTexTarget","framebuffer","createFramebuffer","bindFramebuffer","tex","createTexture","bindTexture","texParameteri","texImage2D","renderbuffer","createRenderbuffer","bindRenderbuffer","renderbufferStorage","framebufferTexture2D","framebufferRenderbuffer","render","drawArrays","getGPUOutput","buf","readPixels","checkError","reference","currentDiv","line","referece64","result64","abs","test_float_add","testName","float0","float1","float_ref","float0_vec2","float1_vec2","float_ref_vec2","program","Program","vs","require","fs","modules","setBuffers","positions","Buffer","target","data","size","setUniforms","b","ONE","test_float_sub","test_float_mul","test_float_div","test_float_sqrt","sqrt","test_float_exp","exp","test_float_log","test_float_sin","sin","test_float_cos","cos","test_float_tan","tan","test_float_radians","PI","onload","fp64","idx0","test_no","loop","cpu_result","gpu_result"],"mappings":"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","sourcesContent":["// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n// TODO - need to clean up this code to follow lint rules, disable for now\n/* eslint-disable */\n\nimport 'babel-polyfill';\n\nimport {document, window} from 'global';\nimport {Buffer, createGLContext, Program, setParameters, assembleShaders, registerShaderModules, fp64} from 'luma.gl';\n\nconst BUFFER_DATA = new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]);\n\n// Utilities functions that to be moved to a common place for future tests\n\nfunction glEnumToString(gl, value) {\n  // Optimization for the most common enum:\n  if (value === gl.NO_ERROR) {\n    return \"NO_ERROR\";\n  }\n  for (var p in gl) {\n    if (gl[p] == value) {\n      return p;\n    }\n  }\n  return \"0x\" + value.toString(16);\n};\n\nfunction addSpan(contents, div) {\n  if (div == undefined) {\n    var divs = document.body.getElementsByClassName(\"testInfo\");\n    var lastDiv = divs[divs.length - 1];\n    div = lastDiv;\n  }\n\n  var span = document.createElement(\"span\");\n  div.appendChild(span);\n  span.innerHTML = contents + '<br />';\n}\n\nfunction addDiv(contents) {\n  var testInfoDiv = document.createElement(\"div\");\n  document.body.appendChild(testInfoDiv);\n  testInfoDiv.setAttribute(\"class\", \"testInfo\");\n\n  return testInfoDiv;\n}\n\nfunction logToConsole(msg) {\n  if (window.console)\n    window.console.log(msg);\n}\n\nfunction escapeHTML(text) {\n  return text.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\");\n}\n\nfunction testPassed(msg) {\n  addSpan('<span><span class=\"pass\" style=\"color:green\">PASS</span> ' + escapeHTML(msg) + '</span>');\n  logToConsole('PASS ' + msg);\n}\n\nfunction testFailed(msg) {\n  addSpan('<span><span class=\"fail\" style=\"color:red\">FAIL</span> ' + escapeHTML(msg) + '</span>');\n  logToConsole('FAIL ' + msg);\n}\n\nfunction glErrorShouldBe(gl, glErrors, opt_msg) {\n  if (!glErrors.length) {\n    glErrors = [glErrors];\n  }\n  opt_msg = opt_msg || \"\";\n  var err = gl.getError();\n  var ndx = glErrors.indexOf(err);\n  var errStrs = [];\n  for (var ii = 0; ii < glErrors.length; ++ii) {\n    errStrs.push(glEnumToString(gl, glErrors[ii]));\n  }\n  var expected = errStrs.join(\" or \");\n  if (ndx < 0) {\n    var msg = \"getError expected\" + ((glErrors.length > 1) ? \" one of: \" : \": \");\n    testFailed(msg + expected +  \". Was \" + glEnumToString(gl, err) + \" : \" + opt_msg);\n  } else {\n    //var msg = \"getError was \" + ((glErrors.length > 1) ? \"one of: \" : \"expected value: \");\n    //testPassed(msg + expected + \" : \" + opt_msg);\n  }\n};\n\n// Special utility functions for df64 tests\n\nfunction fp64ify(a) {\n  const a_hi = Math.fround(a);\n  const a_lo = a - Math.fround(a);\n  return new Float32Array([a_hi, a_lo]);\n}\n\nfunction getFloat64(upper = 256) {\n  return Math.random() * Math.pow(2.0, (Math.random() - 0.5) * upper);\n}\n\nfunction getVec4Float64() {\n  return [getFloat64(), getFloat64(), getFloat64(), getFloat64()]\n}\n\nfunction getMat4Float64() {\n  var result = [];\n  for (var i = 0; i < 16; i++)\n  {\n    result.push(getFloat64());\n  }\n  return result;\n}\n\nfunction initializeGL(canvas)\n{\n  const gl = createGLContext(canvas);\n  setParameters(gl, {\n    viewport: [0, 0, canvas.width, canvas.height],\n    clearColor: [0, 0, 0, 1],\n    clearDepth: 1\n  });\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n  // var fp_texture_support = gl.getExtension('OES_texture_float');\n  // if (!fp_texture_support)\n  // {\n  //   console.error(\"no floating point texture support!\");\n  // }\n  return gl;\n}\n\nfunction initializeTexTarget(gl)\n{\n  var framebuffer = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  framebuffer.width = 10;\n  framebuffer.height = 10;\n\n  var tex = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, tex);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, framebuffer.width, framebuffer.height, 0, gl.RGBA, gl.FLOAT, null);\n\n  var renderbuffer = gl.createRenderbuffer();\n  gl.bindRenderbuffer(gl.RENDERBUFFER, renderbuffer);\n  gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, framebuffer.width, framebuffer.height);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tex, 0);\n  gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderbuffer);\n\n}\n\nfunction render(gl)\n{\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n  glErrorShouldBe(gl, gl.NO_ERROR, \"no error from draw\");\n}\n\nfunction getGPUOutput(gl)\n{\n\n  var width = gl.canvas.width;\n  var height = gl.canvas.height;\n  var buf = new Float32Array(width * height * 4);\n\n  gl.readPixels(0, 0, width, height, gl.RGBA, gl.FLOAT, buf);\n\n  return buf;\n}\n\nfunction checkError(result, reference)\n{\n  var currentDiv = addDiv();\n  var line;\n  addSpan(\"------------------------\", currentDiv);\n\n  let referece64 = reference[0] + reference[1];\n  let result64 = result[0] + result[1];\n\n  line = 'CPU output: (' + reference[0].toString() + ',' + reference[1].toString() + ') = ' + referece64.toString() + '<br>';\n  addSpan(line, currentDiv);\n  line = \"GPU output: (\" + result[0].toString() + ',' + result[1].toString() + ',' + result[2].toString() + ',' + result[3].toString() + ') = ' + result64.toString() + '<br>';\n  addSpan(line, currentDiv);\n\n  line = \"error: \" + Math.abs((referece64 - result64) / referece64) + '<br>';\n  addSpan(line, currentDiv);\n\n\n  // var referenceBits = new Int32Array(reference.buffer);\n  // var resultBits = new Int32Array(result.buffer);\n\n  // var refHiExp = (referenceBits[0] & 0x7F800000) >>> 23;\n  // var refLoExp = (referenceBits[1] & 0x7F800000) >>> 23;\n  // var resHiExp = (resultBits[0] & 0x7F800000) >>> 23;\n  // var resLoExp = (resultBits[1] & 0x7F800000) >>> 23;\n\n  // var refHiMan = referenceBits[0] & 0x007FFFFF;\n  // var refLoMan = referenceBits[1] & 0x007FFFFF;\n  // var resHiMan = resultBits[0] & 0x007FFFFF;\n  // var resLoMan = resultBits[1] & 0x007FFFFF;\n\n  // if (refHiExp !== resHiExp || refLoExp !== resLoExp)\n  // {\n  //   line = \"High 8-bit exponent error: \" + Math.abs(refHiExp - resHiExp).toString() + \" ulp<br>\";\n  //   addSpan(line, currentDiv);\n  //   line = \"Low 8-bit exponent error: \" + Math.abs(refLoExp - resLoExp).toString() + \" ulp<br>\";\n  //   addSpan(line, currentDiv);\n  // }\n\n  // line = \"High 24-bit mantissa reference: \" + refHiMan.toString(2) + \" result: \" + resHiMan.toString(2) + \" error: \" + Math.abs(refHiMan - resHiMan).toString() + \" ulp<br>\";\n  // addSpan(line, currentDiv);\n  // line = \"Low 24-bit mantissa reference: \" + refLoMan.toString(2) + \" result: \" + resLoMan.toString(2) + \" error: \" + Math.abs(refLoMan - resLoMan).toString() + \" ulp<br>\";\n  // addSpan(line, currentDiv);\n}\n\n// Actual tests for different arithmetic functions\n\nfunction test_float_add(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // float +\n  const float0 = getFloat64();\n  const float1 = getFloat64();\n  const float_ref = float0 + float1;\n\n  const float0_vec2 = fp64ify(float0);\n  const float1_vec2 = fp64ify(float1);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n        vs: require('./vs_float_add.glsl'),\n        fs: require('./fs.glsl'),\n        modules: ['fp64']\n      }\n    ));\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    b: float1_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"(\" + float0_vec2.toString() + ') + (' + float1_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_sub(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // float -\n  const float0 = getFloat64();\n  const float1 = getFloat64();\n  const float_ref = float0 - float1;\n\n  const float0_vec2 = fp64ify(float0);\n  const float1_vec2 = fp64ify(float1);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n      vs: require('./vs_float_sub.glsl'),\n      fs: require('./fs.glsl'),\n      modules: ['fp64']\n    }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    b: float1_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"(\" + float0_vec2.toString() + ') - (' + float1_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_mul(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // float x\n  const float0 = getFloat64(128);\n  const float1 = getFloat64(128);\n\n  const float_ref = float0 * float1;\n\n  const float0_vec2 = fp64ify(float0);\n  const float1_vec2 = fp64ify(float1);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n    vs: require('./vs_float_mul.glsl'),\n    fs: require('./fs.glsl'),\n    modules: ['fp64']\n  }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    b: float1_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"(\" + float0_vec2.toString() + ') * (' + float1_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_div(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // float /\n  const float0 = getFloat64(128);\n  const float1 = getFloat64(128);\n  const float_ref = float0 / float1;\n\n  const float0_vec2 = fp64ify(float0);\n  const float1_vec2 = fp64ify(float1);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n    vs: require('./vs_float_div.glsl'),\n    fs: require('./fs.glsl'),\n    modules: ['fp64']\n  }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    b: float1_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"(\" + float0_vec2.toString() + ') / (' + float1_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_sqrt(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // sqrt\n  const float0 = getFloat64(128);\n  const float_ref = Math.sqrt(float0);\n\n  const float0_vec2 = fp64ify(float0);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n        vs: require('./vs_float_sqrt.glsl'),\n        fs: require('./fs.glsl'),\n        modules: ['fp64']\n      }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"sqrt(\" + float0_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_exp(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // exp\n  const float0 = getFloat64(6);\n  const float_ref = Math.exp(float0);\n\n  const float0_vec2 = fp64ify(float0);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n        vs: require('./vs_float_exp.glsl'),\n        fs: require('./fs.glsl'),\n        modules: ['fp64']\n      }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"exp(\" + float0_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_log(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // log\n  const float0 = getFloat64(24);\n  const float_ref = Math.log(float0);\n\n  const float0_vec2 = fp64ify(float0);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n        vs: require('./vs_float_log.glsl'),\n        fs: require('./fs.glsl'),\n        modules: ['fp64']\n      }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"log(\" + float0_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\n\nfunction test_float_sin(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // sin\n  const float0 = getFloat64(8);\n  const float_ref = Math.sin(float0);\n\n  const float0_vec2 = fp64ify(float0);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n        vs: require('./vs_float_sin.glsl'),\n        fs: require('./fs.glsl'),\n        modules: ['fp64']\n      }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"sin(\" + float0_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_cos(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // cos\n  const float0 = getFloat64(8);\n  const float_ref = Math.cos(float0);\n\n  const float0_vec2 = fp64ify(float0);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n        vs: require('./vs_float_cos.glsl'),\n        fs: require('./fs.glsl'),\n        modules: ['fp64']\n      }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"cos(\" + float0_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_tan(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // tan\n  const float0 = getFloat64(8);\n  const float_ref = Math.tan(float0);\n\n  const float0_vec2 = fp64ify(float0);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n        vs: require('./vs_float_tan.glsl'),\n        fs: require('./fs.glsl'),\n        modules: ['fp64']\n      }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"tan(\" + float0_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\nfunction test_float_radians(gl, testName) {\n  var currentDiv = addDiv();\n  addSpan(testName, currentDiv);\n\n // radians\n  const float0 = getFloat64(16);\n  const float_ref = float0 * Math.PI / 180.0;\n\n  const float0_vec2 = fp64ify(float0);\n  const float_ref_vec2 = fp64ify(float_ref);\n\n  const program = new Program(gl, assembleShaders(gl, {\n        vs: require('./vs_float_radians.glsl'),\n        fs: require('./fs.glsl'),\n        modules: ['fp64']\n      }));\n\n  program.setBuffers({\n    positions: new Buffer(gl, {target: gl.ARRAY_BUFFER, data: BUFFER_DATA, size: 2})\n  }).setUniforms({\n    a: float0_vec2,\n    ONE: 1.0\n  });\n\n  var line;\n  line = \"tan(\" + float0_vec2.toString() + ')<br>';\n  addSpan(line, currentDiv);\n  return float_ref_vec2;\n}\n\n// Main entrance\nwindow.onload = () => {\n  const canvas = document.createElement('canvas');\n  document.body.appendChild(canvas);\n\n  canvas.width = 16;\n  canvas.height = 16;\n\n  // Initialize GL\n\n  var gl = initializeGL(canvas);\n  initializeTexTarget(gl);\n\n\n  registerShaderModules([fp64]);\n\n  var idx0;\n  var test_no = 0;\n  const loop = 100;\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_add(gl, \"Float addition test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_sub(gl, \"Float subtraction test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_mul(gl, \"Float multiplication test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_div(gl, \"Float division test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_sqrt(gl, \"Float sqrt test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_exp(gl, \"Float exp test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_log(gl, \"Float log test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_sin(gl, \"Float sin test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n   }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n    var cpu_result = test_float_cos(gl, \"Float cos test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n\n\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n\n    var cpu_result = test_float_tan(gl, \"Float tan test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n\n  for (idx0 = 0; idx0 < loop; idx0++) {\n    var currentDiv = addDiv();\n    addSpan(\"------------------------\", currentDiv);\n    addSpan(\"Loop No. \" + test_no++, currentDiv);\n\n\n    var cpu_result = test_float_radians(gl, \"Float radians test\");\n\n    render(gl);\n\n    var gpu_result = getGPUOutput(gl);\n\n    checkError(gpu_result, cpu_result);\n\n    addSpan(\"------------------------\", currentDiv);\n  }\n}\n"],"file":"fp64-shader.spec.js"}