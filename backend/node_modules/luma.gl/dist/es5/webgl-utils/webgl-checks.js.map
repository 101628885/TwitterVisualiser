{"version":3,"sources":["../../../src/webgl-utils/webgl-checks.js"],"names":["GL_ARRAY_BUFFER","GL_TEXTURE_BINDING_3D","ERR_CONTEXT","ERR_WEBGL","ERR_WEBGL2","isWebGL","glAlias","Boolean","WebGLRenderingContext","ARRAY_BUFFER","isWebGL2","WebGL2RenderingContext","TEXTURE_BINDING_3D","assertWebGLContext","gl","assertWebGL2Context"],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;AAGA,IAAMA,eAAe,GAAG,MAAxB;AACA,IAAMC,qBAAqB,GAAG,MAA9B;AAEO,IAAMC,WAAW,GAAG,+BAApB;;AACA,IAAMC,SAAS,GAAGD,WAAlB;;AACA,IAAME,UAAU,GAAG,iBAAnB;;;AAEA,SAASC,OAAT,CAAiBC,OAAjB,EAA0B;AAC/B,SAAOC,OAAO,CAACD,OAAO,KACpBA,OAAO,YAAYE,iCAAnB,IAEAF,OAAO,CAACG,YAAR,KAAyBT,eAHL,CAAR,CAAd;AAKD;;AAEM,SAASU,QAAT,CAAkBJ,OAAlB,EAA2B;AAChC,SAAOC,OAAO,CAACD,OAAO,KACpBA,OAAO,YAAYK,kCAAnB,IAEAL,OAAO,CAACM,kBAAR,KAA+BX,qBAHX,CAAR,CAAd;AAKD;;AAEM,SAASY,kBAAT,CAA4BC,EAA5B,EAAgC;AAErC,uBAAOT,OAAO,CAACS,EAAD,CAAd,EAAoBZ,WAApB;AACD;;AAEM,SAASa,mBAAT,CAA6BD,EAA7B,EAAiC;AAEtC,uBAAOJ,QAAQ,CAACI,EAAD,CAAf,EAAqBV,UAArB;AACD","sourcesContent":["import {WebGLRenderingContext, WebGL2RenderingContext} from './webgl-types';\nimport assert from '../utils/assert';\n\n// Heuristic testing of contexts (to indentify debug wrappers around gl contexts)\nconst GL_ARRAY_BUFFER = 0x8892;\nconst GL_TEXTURE_BINDING_3D = 0x806A;\n\nexport const ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport const ERR_WEBGL = ERR_CONTEXT;\nexport const ERR_WEBGL2 = 'Requires WebGL2';\n\nexport function isWebGL(glAlias) {\n  return Boolean(glAlias && (\n    glAlias instanceof WebGLRenderingContext ||\n    // `glAlias` name prevents gl constant inliner from making this always true\n    glAlias.ARRAY_BUFFER === GL_ARRAY_BUFFER\n  ));\n}\n\nexport function isWebGL2(glAlias) {\n  return Boolean(glAlias && (\n    glAlias instanceof WebGL2RenderingContext ||\n    // `glAlias` name prevents gl constant inliner from making this always true\n    glAlias.TEXTURE_BINDING_3D === GL_TEXTURE_BINDING_3D\n  ));\n}\n\nexport function assertWebGLContext(gl) {\n  // Need to handle debug context\n  assert(isWebGL(gl), ERR_CONTEXT);\n}\n\nexport function assertWebGL2Context(gl) {\n  // Need to handle debug context\n  assert(isWebGL2(gl), ERR_WEBGL2);\n}\n\n"],"file":"webgl-checks.js"}