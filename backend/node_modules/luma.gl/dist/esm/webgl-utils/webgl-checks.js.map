{"version":3,"sources":["../../../src/webgl-utils/webgl-checks.js"],"names":["WebGLRenderingContext","WebGL2RenderingContext","assert","GL_ARRAY_BUFFER","GL_TEXTURE_BINDING_3D","ERR_CONTEXT","ERR_WEBGL","ERR_WEBGL2","isWebGL","glAlias","Boolean","ARRAY_BUFFER","isWebGL2","TEXTURE_BINDING_3D","assertWebGLContext","gl","assertWebGL2Context"],"mappings":"AAAA,SAAQA,qBAAR,EAA+BC,sBAA/B,QAA4D,eAA5D;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAGA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,qBAAqB,GAAG,MAA9B;AAEA,OAAO,IAAMC,WAAW,GAAG,+BAApB;AACP,OAAO,IAAMC,SAAS,GAAGD,WAAlB;AACP,OAAO,IAAME,UAAU,GAAG,iBAAnB;AAEP,OAAO,SAASC,OAAT,CAAiBC,OAAjB,EAA0B;AAC/B,SAAOC,OAAO,CAACD,OAAO,KACpBA,OAAO,YAAYT,qBAAnB,IAEAS,OAAO,CAACE,YAAR,KAAyBR,eAHL,CAAR,CAAd;AAKD;AAED,OAAO,SAASS,QAAT,CAAkBH,OAAlB,EAA2B;AAChC,SAAOC,OAAO,CAACD,OAAO,KACpBA,OAAO,YAAYR,sBAAnB,IAEAQ,OAAO,CAACI,kBAAR,KAA+BT,qBAHX,CAAR,CAAd;AAKD;AAED,OAAO,SAASU,kBAAT,CAA4BC,EAA5B,EAAgC;AAErCb,EAAAA,MAAM,CAACM,OAAO,CAACO,EAAD,CAAR,EAAcV,WAAd,CAAN;AACD;AAED,OAAO,SAASW,mBAAT,CAA6BD,EAA7B,EAAiC;AAEtCb,EAAAA,MAAM,CAACU,QAAQ,CAACG,EAAD,CAAT,EAAeR,UAAf,CAAN;AACD","sourcesContent":["import {WebGLRenderingContext, WebGL2RenderingContext} from './webgl-types';\nimport assert from '../utils/assert';\n\n// Heuristic testing of contexts (to indentify debug wrappers around gl contexts)\nconst GL_ARRAY_BUFFER = 0x8892;\nconst GL_TEXTURE_BINDING_3D = 0x806A;\n\nexport const ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport const ERR_WEBGL = ERR_CONTEXT;\nexport const ERR_WEBGL2 = 'Requires WebGL2';\n\nexport function isWebGL(glAlias) {\n  return Boolean(glAlias && (\n    glAlias instanceof WebGLRenderingContext ||\n    // `glAlias` name prevents gl constant inliner from making this always true\n    glAlias.ARRAY_BUFFER === GL_ARRAY_BUFFER\n  ));\n}\n\nexport function isWebGL2(glAlias) {\n  return Boolean(glAlias && (\n    glAlias instanceof WebGL2RenderingContext ||\n    // `glAlias` name prevents gl constant inliner from making this always true\n    glAlias.TEXTURE_BINDING_3D === GL_TEXTURE_BINDING_3D\n  ));\n}\n\nexport function assertWebGLContext(gl) {\n  // Need to handle debug context\n  assert(isWebGL(gl), ERR_CONTEXT);\n}\n\nexport function assertWebGL2Context(gl) {\n  // Need to handle debug context\n  assert(isWebGL2(gl), ERR_WEBGL2);\n}\n\n"],"file":"webgl-checks.js"}