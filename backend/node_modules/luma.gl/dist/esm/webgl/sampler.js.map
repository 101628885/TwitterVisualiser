{"version":3,"sources":["../../../src/webgl/sampler.js"],"names":["isWebGL2","assertWebGL2Context","Resource","Sampler","gl","opts","Object","seal","unit","bindSampler","handle","createSampler","deleteSampler","pname","getSamplerParameter","param","samplerParameterf","samplerParameteri"],"mappings":";;;;;;;;;;;;;;;;;;AAEA,SAAQA,QAAR,EAAkBC,mBAAlB,QAA4C,gBAA5C;AACA,OAAOC,QAAP,MAAqB,YAArB;;IAEqBC,O;;;;;gCAEAC,E,EAAI;AACrB,aAAOJ,QAAQ,CAACI,EAAD,CAAf;AACD;;;AAED,mBAAYA,EAAZ,EAAgBC,IAAhB,EAAsB;AAAA;;AAAA;;AACpBJ,IAAAA,mBAAmB,CAACG,EAAD,CAAnB;AACA,iFAAMA,EAAN,EAAUC,IAAV;AACAC,IAAAA,MAAM,CAACC,IAAP;AAHoB;AAIrB;;;;yBAIIC,I,EAAM;AACT,WAAKJ,EAAL,CAAQK,WAAR,CAAoBD,IAApB,EAA0B,KAAKE,MAA/B;AACA,aAAO,IAAP;AACD;;;2BAEMF,I,EAAM;AACX,WAAKJ,EAAL,CAAQK,WAAR,CAAoBD,IAApB,EAA0B,IAA1B;AACA,aAAO,IAAP;AACD;;;oCAIe;AACd,aAAO,KAAKJ,EAAL,CAAQO,aAAR,EAAP;AACD;;;oCAEe;AACd,WAAKP,EAAL,CAAQQ,aAAR,CAAsB,KAAKF,MAA3B;AACD;;;kCAEaG,K,EAAO;AACnB,aAAO,KAAKT,EAAL,CAAQU,mBAAR,CAA4B,KAAKJ,MAAjC,EAAyCG,KAAzC,CAAP;AACD;;;kCAEaA,K,EAAOE,K,EAAO;AAI1B,cAAQF,KAAR;AACA;AACA;AACE,eAAKT,EAAL,CAAQY,iBAAR,CAA0B,KAAKN,MAA/B,EAAuCG,KAAvC,EAA8CE,KAA9C;AACA;;AACF;AACE,eAAKX,EAAL,CAAQa,iBAAR,CAA0B,KAAKP,MAA/B,EAAuCG,KAAvC,EAA8CE,KAA9C;AACA;AAPF;;AASA,aAAO,IAAP;AACD;;;;EApDkCb,Q;;SAAhBC,O","sourcesContent":["/* eslint-disable no-inline-comments */\nimport GL from '../constants';\nimport {isWebGL2, assertWebGL2Context} from '../webgl-utils';\nimport Resource from './resource';\n\nexport default class Sampler extends Resource {\n\n  static isSupported(gl) {\n    return isWebGL2(gl);\n  }\n\n  constructor(gl, opts) {\n    assertWebGL2Context(gl);\n    super(gl, opts);\n    Object.seal(this);\n  }\n\n  // Bind to the same texture unit as a texture to control sampling for that texture\n  // @param {GLuint} unit - texture unit index\n  bind(unit) {\n    this.gl.bindSampler(unit, this.handle);\n    return this;\n  }\n\n  unbind(unit) {\n    this.gl.bindSampler(unit, null);\n    return this;\n  }\n\n  // RESOURCE METHODS\n\n  _createHandle() {\n    return this.gl.createSampler();\n  }\n\n  _deleteHandle() {\n    this.gl.deleteSampler(this.handle);\n  }\n\n  _getParameter(pname) {\n    return this.gl.getSamplerParameter(this.handle, pname);\n  }\n\n  _setParameter(pname, param) {\n    // Apparently there are some conversion integer/float rules that made\n    // the WebGL committe expose two parameter setting functions in JavaScript.\n    // For now, pick the float version for parameters specified as GLfloat.\n    switch (pname) {\n    case GL.TEXTURE_MIN_LOD:\n    case GL.TEXTURE_MAX_LOD:\n      this.gl.samplerParameterf(this.handle, pname, param);\n      break;\n    default:\n      this.gl.samplerParameteri(this.handle, pname, param);\n      break;\n    }\n    return this;\n  }\n}\n"],"file":"sampler.js"}