"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.enableDOMLogging = enableDOMLogging;
exports.logLineToDOM = logLineToDOM;
exports.default = void 0;

var _globals = require("./globals");

var old = null;

function enableDOMLogging() {
  var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

  if (enable && !old) {
    old = _globals.console.log.bind(_globals.console);

    _globals.console.log = function () {
      logLineToDOM.apply(void 0, arguments);
      old.apply(void 0, arguments);
    };
  }

  if (!enable && old) {
    _globals.console.log = old;
    old = null;
  }
}

var logDiv = null;

function logLineToDOM(message) {
  if (!logDiv) {
    var markdown = _globals.global.probe.markdown;
    logDiv = _globals.document.createElement(markdown ? 'pre' : 'div');
  }

  var childNodes = _globals.document.body.childNodes;

  _globals.document.body.insertBefore(logDiv, childNodes && childNodes[0]);

  if (typeof message === 'string') {
    logDiv.innerHTML += "".concat(message, "<br />");
  }
}

var _default = enableDOMLogging;
exports.default = _default;
//# sourceMappingURL=log-to-dom.js.map