extends layout

block content
	.container-fluid
		.row.mx-5
			.col-md-12.my-5
				form(action="/getTweets", method="POST")
					p Query the the Twitter public API to search for tweets based on the following optional parameters.
					.row
						.col-md-4.col-sm-8
							label(for="count") Enter a word to find tweets:
							input.form-control.mb-4(id="word" name="word", type="text", placeholder="e.g. crime")
							label(for="location") Location
							select#location.custom-select.mb-4(name="location")
								option(value="melbourne") Melbourne
								option(value="chicago") Chicago
							label(for="count") Enter radius:
							input.form-control.mb-4(id="dist" name="dist", type="text", placeholder="default: 10km")
							input(type='text', name='shouldStoreTweets', hidden, value=false)
							button.btn.btn-primary(type="submit") Search
		.row.mx-5
			.col-md-12
				if searchwords
					.alert.alert-success(role='alert') Query sent to Twitter #[em #{searchwords}]
				if wordCount
					.alert.alert-info(role='alert') 
						each value, key in wordCount
							p The word #[em #{key}] was found #{value} times
		.row.mx-5
			.col-md-12
				each tweet, index in data
					.card.mb-3
						.card-body
							.grid-container
								img#tweetdp.mx-2(src=`${tweet.user.profile_image_url}`)
								p#tweetheader(class="card-title")
									span
										strong #{tweet.user_name} 
									span #{tweet.created_at} - #{tweet.geo}
								p#tweetbody #{tweet.full_text}
